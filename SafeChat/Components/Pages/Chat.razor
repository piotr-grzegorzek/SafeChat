@page "/chat"
@using System.Web
@inject NavigationManager NavigationManager
<div class="container-fluid chat-container">
    <div class="chat-header-awaiting">
        <h3>Awaiting for participant</h3>
    </div>
    <div class="chat-messages d-flex flex-column">
        <div class="chat-message sent">Hello! How can I help you today?</div>
        <div class="chat-message received">I have a question about my order.</div>
        <!-- Messages -->
    </div>
    <div class="chat-input">
        <div class="input-group">
            <input type="text" @bind="message" class="form-control" placeholder="Type a message...">
            <button class="btn btn-primary" type="button">Send</button>
        </div>
    </div>
</div>

@code {
    string message = "";
    string? role;

    protected override void OnInitialized()
    {
        Uri uri = new(NavigationManager.Uri);
        role = HttpUtility.ParseQueryString(uri.Query).Get("role");
        string? ip = HttpUtility.ParseQueryString(uri.Query).Get("ip");
        string? port = HttpUtility.ParseQueryString(uri.Query).Get("port");

        if (role == "client")
        {

        }
        else if (role == "server")
        {

        }
    }
}